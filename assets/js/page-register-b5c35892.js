import{P as ae,K as me,r as m,V as re,J as G,G as se,A as oe,ad as ie,Q as q,j as B,U as p,l as s,H as u,T as g,a5 as A,ae as pe,aa as U,ak as Q,am as _e,a7 as ne,aU as fe,n as _,O as be,B as W,af as he,ag as we,o as T,a8 as ye,aC as Se,aV as ke,aW as $e,a9 as Z}from"./modules-f3c4939f.js";import{P as Ee,V as Ae,c as X,S as Ie,E as Me,b as xe,d as Ne}from"./page-login-7b2b46c1.js";import{S as Ve,u as le,a as Oe,c9 as ve,A as H,bc as Ue,bd as Re,s as Te,G as ue,bi as Ce,cq as Pe,_ as de,bk as qe,b5 as Le,cr as Ge}from"./page-activity-7450c021.js";import{v as z,a as ge}from"./page-home-f004124b.js";import"./native/index-f195f32a.js";import"./en-cae5b254.js";import"./rus-7aba5263.js";import"./vi-58ce7afb.js";import"./id-3d0ca29b.js";import"./hd-c0b680be.js";import"./tha-28264300.js";import"./md-c0d15065.js";import"./bra-aababf96.js";import"./my-dbd78db9.js";import"./bdt-59b7042e.js";import"./zh-23e70c06.js";import"./pak-56d1671c.js";import"./ar-35d5f806.js";window.getBuildInfo=function(){return{buildTime:"1/17/2025, 8:29:40 PM",branch:" commitId:1d6e326f1d866c74adaf10be37e1b31d134e92f7"}};const He=w=>(he("data-v-e26f70e7"),w=w(),we(),w),je=["onKeydown"],Ke={class:"tip"},Je={key:0,class:"red"},Ze={key:1,class:"red"},ze={class:"register__container-tip"},Qe=He(()=>s("div",{class:"tipbg"},null,-1)),We={class:"register__container-tips"},Xe={class:"register__container-invitation"},Ye={class:"register__container-invitation__label"},et={class:"register__container-invitation__input"},tt=["placeholder","disabled"],st={class:"register__container-remember"},at={class:"register__container-button"},rt={class:"account"},ot={class:"loginin"},it=ae({__name:"Register",props:{registerData:{type:Object,required:!0}},setup(w,{expose:x}){const S=w,{t:e}=me(),c=Ve(),o=le(),i=m(!1),t=m({number:"",numberType:o.rPwdForm.numberType,smsvcode:"",password:"",rePassword:"",invitecode:"",registerType:"mobile"}),k=m("register");t.value.number="",sessionStorage.getItem("register_a")&&(t.value=JSON.parse(sessionStorage.getItem("register_a")||""),sessionStorage.setItem("register_a",""));const I=re(),R=m(!1),n=m(!1),h=G(()=>{var r,a,b;return!!((r=I.currentRoute.value.query)!=null&&r.invitationCode||(b=(a=I.currentRoute.value.query)==null?void 0:a.r_code)!=null&&b.toString()||sessionStorage.getItem("invitecode"))}),C=G(()=>S.registerData.isInvitecode=="1"?e("plsEnterInvitationCode"):e("notNecessary")),P=c.isOpenRegisterPhoneFirstZeroSwitch;se(()=>t.value.number,r=>{o.setCountDown(0)},{flush:"post"}),se(()=>o.rPwdForm.numberType,r=>{!t.value.numberType&&(t.value.numberType=r)},{flush:"post"});function $(){I.push({name:"login"})}const M=async()=>{if(!ve(t.value.numberType,t.value.number.trim().length))return o.setCountDown(0),_({message:e("wrongTel"),wordBreak:"break-word"});await H(Ue({phone:t.value.numberType.replace("+","")+t.value.number,codeType:Re.Registr}))?be(e("sendSuccess")):setTimeout(()=>{o.setCountDown(0)},500)},N=G(()=>{var F;let r=e("regTip2").match(/\d+/);""+t.value.numberType;const a=(F=c.getAreaPhoneLenList.find(v=>(v==null?void 0:v.area)=="+"+t.value.numberType))==null?void 0:F.len;let b=9;return(a==null?void 0:a.indexOf("-"))!=-1?b=a==null?void 0:a.toString().split("-")[0]:b=a,r?r[0].substr(0,b):""}),V=r=>{const a=r.target;a.value=a.value.replace(/[\s\n\t\r]/g,"")},y=async()=>{if(!ve(t.value.numberType,t.value.number.trim().length))return _({message:e("wrongTel"),wordBreak:"break-word"});if(t.value.number.charAt(0)==="0"&&c.isOpenRegisterPhoneFirstZeroSwitch)return _({message:e("registerNumberTip"),wordBreak:"break-word"});if(S.registerData.registerMobileState!=="1")return _({message:e("registerClose"),wordBreak:"break-word"});if(!t.value.number.trim()||R.value){R.value=!0;return}if(S.registerData.isOpenRegisterSMS!=="0")if(t.value.smsvcode.trim()){if(t.value.smsvcode.trim().length!=6)return _({message:e("verifyCode6Digits"),wordBreak:"break-word"})}else return _({message:e("registerTip1"),wordBreak:"break-word"});if(!t.value.password.trim())return _({message:e("registerTip2"),wordBreak:"break-word"});if(!z.passReg3.test(t.value.password)){i.value=!0;return}if(!t.value.rePassword.trim())return _({message:e("registerTip3"),wordBreak:"break-word"});if(t.value.rePassword!==t.value.password){n.value=!0;return}else n.value=!1;if(!o.userForm.termAndPolicy)return _({message:e("registerDesc1"),wordBreak:"break-word"});S.registerData.hasRegisterCaptcha==="1"?f():O("")},j=r=>{t.value.numberType=r},K=r=>{t.value.number=r},J=()=>{ke("toPath","ResetPassword"),I.push({name:"About-AboutDetail"})},l=m(),d=m(""),{setLoading:D}=Oe(),O=async r=>{W(async()=>{D(!0),l.value.startRequestVerify();const{number:a,numberType:b,smsvcode:F,password:v,invitecode:L}=t.value;let Y={username:b.replace("+","")+a,smsvcode:F,registerType:t.value.registerType,pwd:v,invitecode:L,domainurl:window.location.hostname,phonetype:Te(),captchaId:d.value,track:r,deviceId:localStorage.getItem("arvId")||""};o.register(Y).then(async E=>{var ce;if(E){D(!1);const De=ue(),{token:ee,tokenHeader:Fe}=E==null?void 0:E.data;De.setToken(ee),localStorage.setItem("tokenHeader",Fe),localStorage.setItem("numberType",o.getUserForm.numberType),localStorage.setItem("number",o.userForm.number),I.replace("/"),await o.getUserInfo({signature:ee});const te=await o.getUserInfo({signature:ee}),{onTriggerRegister:Be}=Pe();Be((ce=te==null?void 0:te.data)==null?void 0:ce.userId)}}).catch(E=>{}).finally(()=>{var E;D(!1),(E=l.value)==null||E.setShowHiden(!1)})})},f=async()=>{W(async()=>{l.value.startRequestGenerate();const r=await H(Ce());r?(d.value=r.data.captchaId,l.value.endRequestGenerate(r.data.backgroundImage,r.data.sliderImage)):l.value.endRequestGenerate(null,null)})};return oe(()=>{var a,b;o.setCountDown(0);const r=((a=I.currentRoute.value.query.invitationCode)==null?void 0:a.toString())||((b=I.currentRoute.value.query.r_code)==null?void 0:b.toString())||sessionStorage.getItem("invitecode")||"";r&&(t.value.invitecode=r,sessionStorage.setItem("invitecode",r)),o.getIp()}),ie((r,a)=>{r.name=="About-AboutDetail"?sessionStorage.setItem("register_a",JSON.stringify(t.value)):sessionStorage.setItem("register_a","")}),x({showPhoneValidate:R}),(r,a)=>{const b=q("svg-icon"),F=q("van-checkbox");return T(),B("div",{class:"register__container",onKeydown:fe(y,["enter"])},[p(Ee,{"show-validate":R.value,"onUpdate:showValidate":a[0]||(a[0]=v=>R.value=v),number:t.value.number,"onUpdate:number":a[1]||(a[1]=v=>t.value.number=v),"number-type":t.value.numberType,type:k.value,onChangeT:j,onChangeN:K,typeP:"register"},null,8,["show-validate","number","number-type","type"]),s("div",Ke,[u(P)?(T(),B("span",Je,g(u(e)("regTip1")),1)):A("v-if",!0),u(P)?(T(),B("p",Ze,g(N.value),1)):A("v-if",!0)]),r.registerData.isOpenRegisterSMS!=="0"?(T(),pe(Ae,{key:0,value:t.value.smsvcode,"onUpdate:value":a[2]||(a[2]=v=>t.value.smsvcode=v),sendFunc:M,number:t.value.number,numberType:t.value.numberType},null,8,["value","number","numberType"])):A("v-if",!0),p(X,{value:t.value.password,"onUpdate:value":a[3]||(a[3]=v=>t.value.password=v),label:u(e)("setPsw")},null,8,["value","label"]),U(s("div",ze,[Qe,s("span",null,g(u(e)("pswRule")),1)],512),[[Q,i.value]]),p(X,{value:t.value.rePassword,"onUpdate:value":a[4]||(a[4]=v=>t.value.rePassword=v),label:u(e)("comfirmPsw")},null,8,["value","label"]),U(s("div",We,[s("span",null,g(u(e)("unmatchedInput")),1)],512),[[Q,n.value]]),s("div",Xe,[s("div",Ye,[p(b,{name:"invitation"}),s("span",null,g(u(e)("invitationCode")),1)]),s("div",et,[U(s("input",{type:"text","auto-complete":"new-password",autocomplete:"off",name:"userNumber","onUpdate:modelValue":a[5]||(a[5]=v=>t.value.invitecode=v),placeholder:C.value,disabled:h.value,maxlength:"20",onInput:V},null,40,tt),[[_e,t.value.invitecode,void 0,{trim:!0}]])])]),s("div",st,[p(F,{modelValue:u(o).userForm.termAndPolicy,"onUpdate:modelValue":a[7]||(a[7]=v=>u(o).userForm.termAndPolicy=v)},{default:ne(()=>[ye(g(u(e)("readNagree"))+" ",1),s("span",{onClick:a[6]||(a[6]=Se(v=>J(),["stop"]))},g(u(e)("desPrivacy")),1)]),_:1},8,["modelValue"])]),s("div",at,[s("button",{onClick:y},g(u(e)("register")),1),s("button",{class:"login",onClick:$},[s("div",rt,g(u(e)("iHaveAcount")),1),s("div",ot,g(u(e)("goLogin")),1)])]),p(Ie,{ref_key:"captchaRef",ref:l,"refresh-color":"#FFFFFF","show-refresh":!0,onFinish:O,onRefresh:f},null,512)],40,je)}}});const nt=de(it,[["__scopeId","data-v-e26f70e7"],["__file","/var/lib/jenkins/workspace/web-印度-ar058-sikkim/src/components/Login/Register.vue"]]),lt=w=>(he("data-v-1679e191"),w=w(),we(),w),ut=["onKeydown"],dt={class:"register__container-tip"},ct=lt(()=>s("div",{class:"tipbg"},null,-1)),vt={class:"register__container-tips"},gt={class:"register__container-invitation"},mt={class:"register__container-invitation__label"},pt={class:"register__container-invitation__input"},_t=["placeholder","disabled"],ft={class:"register__container-remember"},bt={class:"register__container-button"},ht={class:"account"},wt={class:"loginin"},yt=ae({__name:"EmailRegister",props:{registerData:{type:Object,required:!0}},setup(w,{expose:x}){const S=w,{t:e}=me(),c=m(!1),o=le(),i=m({smsvcode:"",password:"",rePassword:"",invitecode:"",email:"",registerType:"email"}),t=m("register");sessionStorage.getItem("register")&&(i.value=JSON.parse(sessionStorage.getItem("register")||""),sessionStorage.setItem("register",""));const k=re(),I=m(!1),R=m(!1),n=G(()=>{var l;return!!((l=k.currentRoute.value.query)!=null&&l.invitationCode)}),h=G(()=>S.registerData.isInvitecode=="1"?e("plsEnterInvitationCode"):e("notNecessary"));se(()=>i.value.email,l=>{o.setCountDown(0)},{flush:"post"});function C(){k.push({name:"login"})}const P=async()=>{if(!z.email1.test(i.value.email))return o.setCountEmailDown(0),_({message:e(ge.email),wordBreak:"break-word"});await H(qe({email:i.value.email,emailType:Re.Registr}))?be(e("sendSuccess")):o.setCountEmailDown(0)},$=l=>{const d=l.target;d.value=d.value.replace(/[\s\n\t\r]/g,"")},M=async()=>{if(S.registerData.registerEmailState!=="1")return _({message:e("registerClose"),wordBreak:"break-word"});if(S.registerData.isOpenRegisterEmail!=="0")if(i.value.smsvcode.trim()){if(i.value.smsvcode.trim().length!=6)return _({message:e("verifyCode6Digits"),wordBreak:"break-word"})}else return _({message:e("registerTip6"),wordBreak:"break-word"});if(!z.email1.test(i.value.email))return _({message:e(ge.email),wordBreak:"break-word"});if(!i.value.password.trim())return _({message:e("registerTip2"),wordBreak:"break-word"});if(!z.passReg3.test(i.value.password)){c.value=!0;return}if(!i.value.rePassword.trim())return _({message:e("registerTip3"),wordBreak:"break-word"});if(i.value.rePassword!==i.value.password){R.value=!0;return}else R.value=!1;if(!o.userForm.termAndPolicy)return _({message:e("registerDesc1"),wordBreak:"break-word"});S.registerData.hasRegisterCaptcha==="1"?J():K("")},N=l=>{i.value.email=l},V=()=>{ke("toPath","ResetPassword"),k.push({name:"About-AboutDetail"})},y=m(),j=m(""),K=async l=>{W(async()=>{y.value.startRequestVerify();const{smsvcode:d,password:D,invitecode:O}=i.value;let f={username:i.value.email,smsvcode:d,registerType:i.value.registerType,pwd:D,invitecode:O,domainurl:window.location.hostname,phonetype:Te(),captchaId:j.value,track:l,deviceId:localStorage.getItem("arvId")||""};o.register(f).then(async r=>{var a;if(r){const b=ue(),{token:F,tokenHeader:v}=r==null?void 0:r.data;b.setToken(F),localStorage.setItem("tokenHeader",v),localStorage.setItem("numberType",o.getUserForm.numberType),localStorage.setItem("number",o.userForm.number),k.replace("/");const L=await o.getUserInfo({signature:F}),{onTriggerRegister:Y}=Pe();Y((a=L==null?void 0:L.data)==null?void 0:a.userId)}}).catch(r=>{}).finally(()=>{y.value.setShowHiden(!1)})})},J=async()=>{W(async()=>{y.value.startRequestGenerate();const l=await H(Ce());l?(j.value=l.data.captchaId,y.value.endRequestGenerate(l.data.backgroundImage,l.data.sliderImage)):y.value.endRequestGenerate(null,null)})};return oe(()=>{var d,D;o.setCountEmailDown(0);const l=((d=k.currentRoute.value.query.invitationCode)==null?void 0:d.toString())||((D=k.currentRoute.value.query.r_code)==null?void 0:D.toString())||sessionStorage.getItem("invitecode")||"";l&&(i.value.invitecode=l)}),ie((l,d)=>{l.name=="About-AboutDetail"?sessionStorage.setItem("register",JSON.stringify(i.value)):sessionStorage.setItem("register","")}),x({showPhoneValidate:I}),(l,d)=>{const D=q("svg-icon"),O=q("van-checkbox");return T(),B("div",{class:"register__container",onKeydown:fe(M,["enter"])},[p(Me,{ref:"email",type:t.value,email:i.value.email,onChangeN:N},null,8,["type","email"]),l.registerData.isOpenRegisterEmail!=="0"?(T(),pe(xe,{key:0,value:i.value.smsvcode,"onUpdate:value":d[0]||(d[0]=f=>i.value.smsvcode=f),sendFunc:P,email:i.value.email},null,8,["value","email"])):A("v-if",!0),p(X,{value:i.value.password,"onUpdate:value":d[1]||(d[1]=f=>i.value.password=f),label:u(e)("setPsw")},null,8,["value","label"]),U(s("div",dt,[ct,s("span",null,g(u(e)("pswRule")),1)],512),[[Q,c.value]]),p(X,{value:i.value.rePassword,"onUpdate:value":d[2]||(d[2]=f=>i.value.rePassword=f),label:u(e)("comfirmPsw")},null,8,["value","label"]),U(s("div",vt,[s("span",null,g(u(e)("unmatchedInput")),1)],512),[[Q,R.value]]),s("div",gt,[s("div",mt,[p(D,{name:"invitation"}),s("span",null,g(u(e)("invitationCode")),1)]),s("div",pt,[U(s("input",{type:"text","auto-complete":"new-password",autocomplete:"off",name:"userNumber","onUpdate:modelValue":d[3]||(d[3]=f=>i.value.invitecode=f),placeholder:h.value,disabled:n.value,maxlength:"20",onInput:$},null,40,_t),[[_e,i.value.invitecode,void 0,{trim:!0}]])])]),s("div",ft,[p(O,{modelValue:u(o).userForm.termAndPolicy,"onUpdate:modelValue":d[5]||(d[5]=f=>u(o).userForm.termAndPolicy=f)},{default:ne(()=>[ye(g(u(e)("readNagree"))+" ",1),s("span",{onClick:d[4]||(d[4]=Se(f=>V(),["stop"]))},g(u(e)("desPrivacy")),1)]),_:1},8,["modelValue"])]),s("div",bt,[s("button",{onClick:M},g(u(e)("register")),1),s("button",{class:"login",onClick:C},[s("div",ht,g(u(e)("iHaveAcount")),1),s("div",wt,g(u(e)("goLogin")),1)])]),p(Ie,{ref_key:"captchaRef",ref:y,"refresh-color":"#FFFFFF","show-refresh":!0,onFinish:K,onRefresh:J},null,512)],40,ut)}}});const St=de(yt,[["__scopeId","data-v-1679e191"],["__file","/var/lib/jenkins/workspace/web-印度-ar058-sikkim/src/components/Login/EmailRegister.vue"]]),kt={class:"resgister__C"},It={class:"resgister__C-heading"},Rt={class:"resgister__C-heading__title"},Tt={class:"resgister__C-heading__subTitle"},Ct={class:"login_container-tab"},Pt={class:"resgister__C-form"},Dt=ae({__name:"index",setup(w){const{openAll:x}=Le(),S=ue(),e=le();m("");const c=m({isRegisterState:"1",SMSstate:"0",registerStateMsg:"",hasRegisterCaptcha:"0",registerEmailState:"0",registerMobileState:"0",isOpenRegisterSMS:"0",isOpenRegisterEmail:"0",isInvitecode:"0"}),o=m("phone"),i=re();S.token&&i.push({name:"home"});const t=n=>{o.value=n};ie((n,h,C)=>{C(),n.name==="home"&&x()});const k=m();function I(){i.push({name:"home"})}async function R(){var h,C,P,$,M,N,V,y;const n=await H(Ge());n&&(c.value.isRegisterState=n.data.registerState,c.value.registerStateMsg=n.data.registerStateMsg,c.value.registerEmailState=n.data.registerEmailState,c.value.registerMobileState=(h=n.data)==null?void 0:h.registerMobileState,c.value.isOpenRegisterSMS=(C=n.data)==null?void 0:C.isOpenRegisterSMS,c.value.isOpenRegisterEmail=(P=n.data)==null?void 0:P.isOpenRegisterEmail,c.value.hasRegisterCaptcha=n.data.isOpenRegisterCaptcha,c.value.isInvitecode=($=n.data)==null?void 0:$.isInvitecode,e.setTermAndPolicy(((M=n.data)==null?void 0:M.registerPrivacyChecked)==="1"),Number(n.data.registerEmailState)+Number((N=n.data)==null?void 0:N.registerMobileState)==0?(((V=n.data)==null?void 0:V.isOpenRegisterSMS)!=="1"&&(o.value="email"),i.push({name:"login"})):(c.value.registerSMSState=n.data.registerSMSState,c.value.registerEmailState!=="0"&&((y=n.data)==null?void 0:y.registerMobileState)=="0"&&(o.value="email")))}return R(),oe(()=>{localStorage.getItem("arvId")||$e.load().then(n=>{n.get().then(h=>{localStorage.setItem("arvId",h.visitorId)})}).catch(n=>{console.error("Error generating fingerprint:",n)})}),(n,h)=>{const C=q("NavBar"),P=q("svg-icon");return T(),B("div",kt,[p(C,{onClickLeft:I,leftArrow:!0,headLogo:!0,class:"main"},{right:ne(()=>[p(Ne)]),_:1}),s("div",It,[s("h1",Rt,g(n.$t("register")),1),s("div",Tt,[s("span",null,g(n.$t("registerbyphoneoremail")),1)])]),s("div",Ct,[c.value.registerMobileState!="0"?(T(),B("div",{key:0,class:Z(["tab",[o.value=="phone"?"active":""]]),onClick:h[0]||(h[0]=$=>t("phone"))},[p(P,{name:"phone"}),s("div",null,g(n.$t("phoneregister")),1)],2)):A("v-if",!0),c.value.registerEmailState!="0"?(T(),B("div",{key:1,class:Z(["tab",[o.value=="email"?"active":""]]),onClick:h[1]||(h[1]=$=>t("email"))},[p(P,{name:"email"}),s("div",null,g(n.$t("emailregister")),1)],2)):A("v-if",!0)]),s("div",Pt,[c.value.registerMobileState!="0"?(T(),B("div",{key:0,class:Z(["tab-content",[o.value=="phone"?"activecontent":""]])},[p(nt,{ref_key:"register",ref:k,registerData:c.value},null,8,["registerData"])],2)):A("v-if",!0),c.value.registerEmailState!="0"?(T(),B("div",{key:1,class:Z(["tab-content",[o.value=="email"?"activecontent":""]])},[p(St,{ref_key:"register",ref:k,registerData:c.value},null,8,["registerData"])],2)):A("v-if",!0)])])}}});const Zt=de(Dt,[["__scopeId","data-v-4752d5f1"],["__file","/var/lib/jenkins/workspace/web-印度-ar058-sikkim/src/views/register/index.vue"]]);export{Zt as default};
